<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Products - pokalafarms</title>

  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    crossorigin="anonymous"
    referrerpolicy="no-referrer"
  />
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header>
    <div class="header-left">
      <div class="logo">
        <img src="images/logo.png" alt="Logo" />
      </div>
    </div>
    <div class="header-right">
      <a href="checkout.html" title="Cart" class="header-icon" aria-label="Cart" id="cart-icon">
        <i class="fas fa-shopping-cart"></i>
        <span class="cart-count" id="cart-count" style="display:none;">0</span>
      </a>
      <a href="index.html" title="Back to Categories" class="header-icon" aria-label="Back to Categories">
        <i class="fas fa-arrow-left"></i>
      </a>
    </div>
  </header>

  <main>
    <h1 id="category-title">Products</h1>
    <div id="product-list" class="product-list"></div>
  </main>

  <footer>
    <div class="contact-info">
      <h3>Contact Us</h3>
      <p>pokalafarms</p>
      <p>Email: pokalafarms@gmail.com</p>
      <p>Phone: +919666796840</p>
      <p>Address: Bangalore </p>
    </div>
    <div class="social-icons">
      <a href="https://wa.me/12345678901" target="_blank" rel="noopener" aria-label="WhatsApp">
        <i class="fab fa-whatsapp"></i>
      </a>
      <a href="https://www.instagram.com/sharer/sharer.php?u=https%3A//generalstore.com" target="_blank" rel="noopener" aria-label="Instagram Share">
        <i class="fab fa-instagram"></i>
      </a>
    </div>
  </footer>

  <script src="script.js"></script>
  <script>
    // Example products data grouped by category
const productsData = {
  "Pulses": [
    { name: "Toor Dal/ Kandi", price: 1, img: "images/products/apple.jpg" },
    { name: "Harse gram/ Ulava", price: 0.5, img: "images/products/banana.jpg" },
    { name: "Sesame/ Nuvvulu", price: 0.8, img: "images/products/orange.jpg" },
	{ name: "Chickpeas/ Senagalu", price: 0.8, img: "images/products/orange.jpg" },
	{ name: "ground Nut/ Veru senaga", price: 0.8, img: "images/products/orange.jpg" },
  ],
  "Oils": [
    { name: "Bread", price: 2, img: "images/products/bread.jpg" },
    { name: "Croissant", price: 2.5, img: "images/products/croissant.jpg" },
    { name: "Muffin", price: 1.5, img: "images/products/muffin.jpg" }
  ],
  "Snacks": [
    { name: "Milk", price: 3, img: "images/products/milk.jpg" },
    { name: "Cheese", price: 4, img: "images/products/cheese.jpg" },
    { name: "Yogurt", price: 2, img: "images/products/yogurt.jpg" }
  ],
  "Flour": [
    { name: "Milk", price: 3, img: "images/products/milk.jpg" },
    { name: "Cheese", price: 4, img: "images/products/cheese.jpg" },
    { name: "Yogurt", price: 2, img: "images/products/yogurt.jpg" }
  ],
  "Millets": [
    { name: "Carrot", price: 1, img: "images/products/carrot.jpg" },
    { name: "Broccoli", price: 1.5, img: "images/products/broccoli.jpg" },
    { name: "Spinach", price: 1.2, img: "images/products/spinach.jpg" }
  ]
};


    // Helper to get URL param
    function getQueryParam(param) {
      const urlParams = new URLSearchParams(window.location.search);
      return urlParams.get(param);
    }

    function renderProducts(category) {
      const listEl = document.getElementById('product-list');
      const titleEl = document.getElementById('category-title');
      titleEl.textContent = category;

      listEl.innerHTML = '';

      if (!productsData[category]) {
        listEl.innerHTML = '<p>No products found in this category.</p>';
        return;
      }

      productsData[category].forEach(product => {
      const productDiv = document.createElement('div');
      productDiv.className = 'product';
      
      productDiv.innerHTML = `
        <img src="${product.img}" alt="${product.name}" />
        <span>${product.name} $${product.price.toFixed(2)}</span>
        <button onclick="addToCart('${product.name}', ${product.price})">Add to Cart</button>
      `;


        listEl.appendChild(productDiv);
      });
    }

    window.addEventListener('DOMContentLoaded', () => {
      checkoutDB.loadFromStorage();
      updateCartCount();

      const category = getQueryParam('category');
      if (!category) {
        // Redirect to categories if no category specified
        window.location.href = 'index.html';
      } else {
        renderProducts(category);
      }
    });
  </script>
</body>
</html>
